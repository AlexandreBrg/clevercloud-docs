<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Clever Cloud Documentation â€“ JavaScript Frameworks</title>
    <link>/doc/deploy/application/javascript/by-framework/</link>
    <description>Recent content in JavaScript Frameworks on Clever Cloud Documentation</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    
	  <atom:link href="/doc/deploy/application/javascript/by-framework/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Deploy Meteor.js applications</title>
      <link>/doc/deploy/application/javascript/by-framework/meteor/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/doc/deploy/application/javascript/by-framework/meteor/</guid>
      <description>
        
        
        &lt;h2&gt;Overview&lt;span class=&#34;absolute -mt-20&#34; id=&#34;overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Clever Cloud allows you to deploy any Meteor.js application. This page will explain how to set up your application to run it on our services.&lt;/p&gt;
&lt;p&gt;Be sure your &lt;code&gt;.meteor&lt;/code&gt; folder is in your git repository.&lt;/p&gt;









	
	
	
		
		
		

	




&lt;h2&gt;Create an application on Clever Cloud&lt;span class=&#34;absolute -mt-20&#34; id=&#34;create-an-application-on-clever-cloud&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#create-an-application-on-clever-cloud&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;With the web console&lt;span class=&#34;absolute -mt-20&#34; id=&#34;with-the-web-console&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#with-the-web-console&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Refer to &lt;a href=&#34;/doc/getting-started/&#34; &gt;our getting started&lt;/a&gt; for more details on application creation via the console.&lt;/p&gt;
&lt;h3&gt;With the Clever Tools CLI&lt;span class=&#34;absolute -mt-20&#34; id=&#34;with-the-clever-tools-cli&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#with-the-clever-tools-cli&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;Make sure you have clever-tools installed locally or follow our &lt;a href=&#34;/doc/reference/clever-tools/getting_started/&#34; &gt;CLI getting started&lt;/a&gt; guide.&lt;/li&gt;
&lt;li&gt;In your code folder, do &lt;code&gt;clever create --type &amp;lt;type&amp;gt; &amp;lt;app-name&amp;gt; --region &amp;lt;zone&amp;gt; --org &amp;lt;org&amp;gt;&lt;/code&gt; where :
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;type&lt;/code&gt; is the type of technology you rely on&lt;/li&gt;
&lt;li&gt;&lt;code&gt;app-name&lt;/code&gt; the name you want for your application,&lt;/li&gt;
&lt;li&gt;&lt;code&gt;zone&lt;/code&gt; deployment zone (&lt;code&gt;par&lt;/code&gt; for Paris and &lt;code&gt;mtl&lt;/code&gt; for Montreal)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;org&lt;/code&gt; the organization ID the application will be created under.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Refer to &lt;a href=&#34;/doc/reference/clever-tools/create/&#34; &gt;clever create&lt;/a&gt; for more details on application creation with Clever Tools.&lt;/p&gt;












	
	
	
		
		
		

	




&lt;h2&gt;Setting up environment variables on Clever Cloud&lt;span class=&#34;absolute -mt-20&#34; id=&#34;setting-up-environment-variables-on-clever-cloud&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#setting-up-environment-variables-on-clever-cloud&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;With the Clever Cloud console&lt;span class=&#34;absolute -mt-20&#34; id=&#34;with-the-clever-cloud-console&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#with-the-clever-cloud-console&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;Go to the Clever Cloud console, and find the app you want to fine tune under it&amp;rsquo;s organization.&lt;/li&gt;
&lt;li&gt;Find the &lt;strong&gt;Environment variables&lt;/strong&gt; menu and select it.&lt;/li&gt;
&lt;li&gt;In this menu, you will see a form with &lt;em&gt;VARIABLE_NAME&lt;/em&gt; and &lt;em&gt;variable value&lt;/em&gt; fields.&lt;/li&gt;
&lt;li&gt;Fill them with the desired values then select &lt;strong&gt;Add&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Don&amp;rsquo;t forget to &amp;ldquo;Update Changes&amp;rdquo; at the end of the menu.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;With the Clever Tools CLI&lt;span class=&#34;absolute -mt-20&#34; id=&#34;with-the-clever-tools-cli&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#with-the-clever-tools-cli&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;Make sure you have clever-tools installed locally. Refer to our &lt;a href=&#34;/doc/reference/clever-tools/getting_started/&#34; &gt;CLI getting started&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;In your code folder, do &lt;code&gt;clever env set &amp;lt;variable-name&amp;gt; &amp;lt;variable-value&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Refer to &lt;a href=&#34;/doc/reference/reference-environment-variables/&#34; &gt;environment variables reference&lt;/a&gt; for more details on available environment variables on Clever Cloud.&lt;/p&gt;
&lt;p&gt;You can of course create custom ones with the interface we just demonstrated, they will be available for your application.&lt;/p&gt;



&lt;h2&gt;Configure your Meteor.js based application&lt;span class=&#34;absolute -mt-20&#34; id=&#34;configure-your-meteorjs-based-application&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#configure-your-meteorjs-based-application&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;Mandatory configuration&lt;span class=&#34;absolute -mt-20&#34; id=&#34;mandatory-configuration&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#mandatory-configuration&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;h4&gt;Set up environment variables&lt;span class=&#34;absolute -mt-20&#34; id=&#34;set-up-environment-variables&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#set-up-environment-variables&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;To run your Meteor.js application you need a few mandatory &lt;a href=&#34;#setting-up-environment-variables-on-clever-cloud&#34; &gt;environment variables&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;MONGO_URL&lt;/code&gt;: this is the mongo uri you can find in your mongodb&amp;rsquo;s dashboard, it has to start with &lt;code&gt;mongodb://&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ROOT_URL&lt;/code&gt;: this is your application&amp;rsquo;s root url. It has to start with &lt;code&gt;http://&lt;/code&gt; or &lt;code&gt;https://&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PORT&lt;/code&gt;: keep the current value of 8080&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;With Meteor 2.6.n comes MongoDB 5.n and &lt;a href=&#34;https://guide.meteor.com/2.6-migration.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;the new npm driver&lt;/a&gt;. You need to append &lt;code&gt;?directConnection=true&lt;/code&gt; in your &lt;code&gt;MONGO_URL&lt;/code&gt; to avoid the new mongo driver Service Discovery feature.&lt;/p&gt;
&lt;h5&gt;Optional Meteor settings as environment variable&lt;span class=&#34;absolute -mt-20&#34; id=&#34;optional-meteor-settings-as-environment-variable&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#optional-meteor-settings-as-environment-variable&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h5&gt;&lt;p&gt;Some application require a &lt;code&gt;settings.json&lt;/code&gt; file to &lt;a href=&#34;https://docs.meteor.com/api/core.html#Meteor-settings&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;store api keys and other various private and public Meteor variables&lt;/a&gt;.
You can declare a &lt;code&gt;METEOR_SETTINGS&lt;/code&gt; environment variable and past the content of the json file as the value of this key.&lt;/p&gt;
&lt;h2&gt;Specify required Node.js version&lt;span class=&#34;absolute -mt-20&#34; id=&#34;specify-required-nodejs-version&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#specify-required-nodejs-version&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Since building with the latest version of Node.js might fail, you should specify in the &lt;code&gt;package.json&lt;/code&gt; file of the application the version needed for your Meteor application ; as shown in &lt;a href=&#34;https://www.clever-cloud.com/doc/nodejs/nodejs/#requirements&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Deploying Node.js apps&lt;/a&gt; documentation.
To find out which version is required by your application type the following command &lt;code&gt;meteor node -v&lt;/code&gt; inside root folder.&lt;/p&gt;
&lt;p&gt;Currently with Meteor &lt;em&gt;2.6.1&lt;/em&gt; the Node.js version is &lt;em&gt;14.18.3&lt;/em&gt; so you should add the following inside the &lt;code&gt;package.json&lt;/code&gt; file.&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;pre&gt;&lt;code id=&#34;code-block-0&#34;&gt;  ...
  &amp;#34;engines&amp;#34;: {
    &amp;#34;node&amp;#34;: &amp;#34;14.18.3&amp;#34;
  },
  ...&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34; title=&#34;Copy code&#34; data-clipboard-target=&#34;#code-block-0&#34;&gt;
      &lt;svg class=&#34;group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z&#34; /&gt;&lt;/svg&gt;
      &lt;svg class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke-width=&#34;2&#34; stroke=&#34;currentColor&#34; aria-hidden=&#34;true&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M5 13l4 4L19 7&#34;/&gt;&lt;/svg&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;You may change the node version value according to the application requirements.&lt;/p&gt;
&lt;h4&gt;Activate the dedicated build&lt;span class=&#34;absolute -mt-20&#34; id=&#34;activate-the-dedicated-build&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#activate-the-dedicated-build&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Meteor.js uses a lot of memory during the build. You most likely will need to activate the &lt;a href=&#34;https://www.clever-cloud.com/doc/admin-console/apps-management/#dedicated-build&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dedicated build feature&lt;/a&gt; and set your vertical scaling size at least to &lt;strong&gt;M&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;If your build still fails after you enabled the feature, please contact us on the support so we can set you a bigger scaler.&lt;/p&gt;
&lt;h3&gt;Automatic HTTPS redirection&lt;span class=&#34;absolute -mt-20&#34; id=&#34;automatic-https-redirection&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#automatic-https-redirection&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;You can use the &lt;a href=&#34;https://atmospherejs.com/meteor/force-ssl&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;force-ssl&lt;/a&gt; atmosphere package to redirect your users to the HTTPS version of your application.&lt;/p&gt;
&lt;h3&gt;Custom start parameters&lt;span class=&#34;absolute -mt-20&#34; id=&#34;custom-start-parameters&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#custom-start-parameters&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;If you want to set custom start parameters, the main entry point of built meteor applications is: &lt;code&gt;.build/bundle/main.js&lt;/code&gt;.
Add in the &lt;code&gt;scripts.start&lt;/code&gt; field of the package.json: &lt;code&gt;node .build/bundle/main.js &amp;lt;parameters&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Deployment process on Clever Cloud&lt;span class=&#34;absolute -mt-20&#34; id=&#34;deployment-process-on-clever-cloud&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#deployment-process-on-clever-cloud&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;At each deployment, the needed Meteor.js version will be read from &lt;code&gt;.meteor/release&lt;/code&gt; and installed.
Your application will then be built using &lt;code&gt;meteor build --server-only&lt;/code&gt; and deployed from the files created by this command.&lt;/p&gt;









	
	
	
		
		
		

	




&lt;h2&gt;Environment injection&lt;span class=&#34;absolute -mt-20&#34; id=&#34;environment-injection&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#environment-injection&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Clever Cloud injects environment variables from your application settings as mentioned in &lt;a href=&#34;#setting-up-environment-variables-on-clever-cloud&#34; &gt;setting up environment variables&lt;/a&gt; and is also injecting in your application production environment, those from your &lt;a href=&#34;#linking-a-database-or-any-other-add-on-to-your-application&#34; &gt;linked add-ons&lt;/a&gt;.











	
	
	
		
		
		

	




&lt;h2&gt;Git Deployment on Clever Cloud&lt;span class=&#34;absolute -mt-20&#34; id=&#34;git-deployment-on-clever-cloud&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#git-deployment-on-clever-cloud&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;em&gt;You need Git on your computer to deploy via this tool. Here is the official website of Git to get more information: &lt;a href=&#34;https://git-scm.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;git-scm.com&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;Setting up your remotes&lt;span class=&#34;absolute -mt-20&#34; id=&#34;setting-up-your-remotes&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#setting-up-your-remotes&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &amp;ldquo;Information&amp;rdquo; page of your app gives you your Git deployment URL, it looks like this:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;git+ssh://git@push.clever-cloud.com/&amp;lt;your_app_id&amp;gt;.git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Copy it in your clipboard&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Locally, under your code folder, type in &lt;code&gt;git init&lt;/code&gt; to set up a new git repository or skip this step if you already have one&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add the deploy URL with &lt;code&gt;git remote add &amp;lt;name&amp;gt; &amp;lt;your-git-deployment-url&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add your files via &lt;code&gt;git add &amp;lt;files path&amp;gt;&lt;/code&gt; and commit them via &lt;code&gt;git commit -m &amp;lt;your commit message&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now push your application on Clever Cloud with &lt;code&gt;git push &amp;lt;name&amp;gt; master&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Refer to &lt;a href=&#34;/doc/getting-started/quickstart/&#34; &gt;git deployments&lt;/a&gt; for more details.&lt;/p&gt;












	
	
	
		
		
		

	




&lt;h2&gt;Linking a database or any other add-on to your application&lt;span class=&#34;absolute -mt-20&#34; id=&#34;linking-a-database-or-any-other-add-on-to-your-application&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#linking-a-database-or-any-other-add-on-to-your-application&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;By linking an application to an add-on, the application has the add-on environment variables in its own environment by default.&lt;/p&gt;
&lt;h3&gt;On add-on creation&lt;span class=&#34;absolute -mt-20&#34; id=&#34;on-add-on-creation&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#on-add-on-creation&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Many add-ons do exist on Clever Cloud, please refer to the full list and check add-ons dedicated pages for full instructions.&lt;/p&gt;
&lt;p&gt;During add-on creation, you will see &lt;strong&gt;Applications&lt;/strong&gt; screen, with a list of your applications. You can toggle the button to &lt;em&gt;Link&lt;/em&gt; and click &lt;em&gt;next&lt;/em&gt;. If you finish the process of add-on creation, the application will automatically be linked to it.&lt;/p&gt;
&lt;h3&gt;Add-on already exists&lt;span class=&#34;absolute -mt-20&#34; id=&#34;add-on-already-exists&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#add-on-already-exists&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;In the Clever Cloud console, under the &lt;strong&gt;Service Dependencies&lt;/strong&gt; menu of your application, you can use the &lt;em&gt;Link addons&lt;/em&gt; dropdown menu to select the name of the add-on you want to link and use the &lt;em&gt;add&lt;/em&gt; button to finish the process.&lt;/p&gt;
&lt;p&gt;You can also link another application from the same page in the Clever Cloud console, using the &lt;em&gt;Link applications&lt;/em&gt; dropdown menu.&lt;/p&gt;



&lt;h3&gt;Oplog Tailing&lt;span class=&#34;absolute -mt-20&#34; id=&#34;oplog-tailing&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#oplog-tailing&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Oplog tailing is supported on dedicated databases (starting from Hazelnut size). Contact the support to enable oplog. Once enabled, set the following &lt;a href=&#34;#setting-up-environment-variables-on-clever-cloud&#34; &gt;environment variable&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;MONGO_OPLOG_URL&lt;/code&gt;: &lt;code&gt;mongodb://[â€¦]mongodb.services.clever-cloud.com:{DB_PORT}/local?authSource={DB_NAME}&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Since Meteor 2.6.n the mongo driver detect the &lt;code&gt;MONGO_OPLOG_URL&lt;/code&gt; by itself and you should not add this to your environment variables.&lt;/p&gt;
&lt;h2&gt;Migrate from a Node.js instance&lt;span class=&#34;absolute -mt-20&#34; id=&#34;migrate-from-a-nodejs-instance&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#migrate-from-a-nodejs-instance&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;If you want to migrate from your classic node.js app to a meteor application, contact our support in the console or at
&lt;a href=&#34;mailto:support@clever-cloud.com&#34; &gt;support@clever-cloud.com&lt;/a&gt; with the application id.&lt;/p&gt;









	
	
	
		
		
		

	




&lt;h2&gt;More configuration&lt;span class=&#34;absolute -mt-20&#34; id=&#34;more-configuration&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#more-configuration&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Need more configuration? To run a script at the end of your deployment? To add your private SSH key to access private dependencies?&lt;/p&gt;
&lt;p&gt;Go check the &lt;a href=&#34;/doc/reference/common-configuration/&#34; &gt;Common configuration page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You may want to have an advanced usage of your application, in which case we recommend you to read the &lt;strong&gt;Administrate&lt;/strong&gt; documentation section.&lt;/p&gt;
&lt;p&gt;If you can&amp;rsquo;t find something or have a specific need like using a non supported version of a particular software, please reach out to the &lt;a href=&#34;/doc/find-help/support/&#34; &gt;support&lt;/a&gt;.&lt;/p&gt;




      </description>
    </item>
    
    <item>
      <title>Deploy Node.js applications</title>
      <link>/doc/deploy/application/javascript/by-framework/nodejs/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/doc/deploy/application/javascript/by-framework/nodejs/</guid>
      <description>
        
        
        &lt;h2&gt;Overview&lt;span class=&#34;absolute -mt-20&#34; id=&#34;overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Clever Cloud allows you to deploy any &lt;a href=&#34;https://nodejs.org&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Node.js&lt;/a&gt; application. We do support &lt;strong&gt;any stable version of node &amp;gt;= 0.6&lt;/strong&gt;.
This page will explain you how to set up your application to run it on our service.&lt;/p&gt;









	
	
	
		
		
		

	




&lt;h2&gt;Create an application on Clever Cloud&lt;span class=&#34;absolute -mt-20&#34; id=&#34;create-an-application-on-clever-cloud&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#create-an-application-on-clever-cloud&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;With the web console&lt;span class=&#34;absolute -mt-20&#34; id=&#34;with-the-web-console&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#with-the-web-console&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Refer to &lt;a href=&#34;/doc/getting-started/&#34; &gt;our getting started&lt;/a&gt; for more details on application creation via the console.&lt;/p&gt;
&lt;h3&gt;With the Clever Tools CLI&lt;span class=&#34;absolute -mt-20&#34; id=&#34;with-the-clever-tools-cli&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#with-the-clever-tools-cli&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;Make sure you have clever-tools installed locally or follow our &lt;a href=&#34;/doc/reference/clever-tools/getting_started/&#34; &gt;CLI getting started&lt;/a&gt; guide.&lt;/li&gt;
&lt;li&gt;In your code folder, do &lt;code&gt;clever create --type &amp;lt;type&amp;gt; &amp;lt;app-name&amp;gt; --region &amp;lt;zone&amp;gt; --org &amp;lt;org&amp;gt;&lt;/code&gt; where :
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;type&lt;/code&gt; is the type of technology you rely on&lt;/li&gt;
&lt;li&gt;&lt;code&gt;app-name&lt;/code&gt; the name you want for your application,&lt;/li&gt;
&lt;li&gt;&lt;code&gt;zone&lt;/code&gt; deployment zone (&lt;code&gt;par&lt;/code&gt; for Paris and &lt;code&gt;mtl&lt;/code&gt; for Montreal)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;org&lt;/code&gt; the organization ID the application will be created under.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Refer to &lt;a href=&#34;/doc/reference/clever-tools/create/&#34; &gt;clever create&lt;/a&gt; for more details on application creation with Clever Tools.&lt;/p&gt;












	
	
	
		
		
		

	




&lt;h2&gt;Setting up environment variables on Clever Cloud&lt;span class=&#34;absolute -mt-20&#34; id=&#34;setting-up-environment-variables-on-clever-cloud&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#setting-up-environment-variables-on-clever-cloud&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;With the Clever Cloud console&lt;span class=&#34;absolute -mt-20&#34; id=&#34;with-the-clever-cloud-console&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#with-the-clever-cloud-console&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;Go to the Clever Cloud console, and find the app you want to fine tune under it&amp;rsquo;s organization.&lt;/li&gt;
&lt;li&gt;Find the &lt;strong&gt;Environment variables&lt;/strong&gt; menu and select it.&lt;/li&gt;
&lt;li&gt;In this menu, you will see a form with &lt;em&gt;VARIABLE_NAME&lt;/em&gt; and &lt;em&gt;variable value&lt;/em&gt; fields.&lt;/li&gt;
&lt;li&gt;Fill them with the desired values then select &lt;strong&gt;Add&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Don&amp;rsquo;t forget to &amp;ldquo;Update Changes&amp;rdquo; at the end of the menu.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;With the Clever Tools CLI&lt;span class=&#34;absolute -mt-20&#34; id=&#34;with-the-clever-tools-cli&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#with-the-clever-tools-cli&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;Make sure you have clever-tools installed locally. Refer to our &lt;a href=&#34;/doc/reference/clever-tools/getting_started/&#34; &gt;CLI getting started&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;In your code folder, do &lt;code&gt;clever env set &amp;lt;variable-name&amp;gt; &amp;lt;variable-value&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Refer to &lt;a href=&#34;/doc/reference/reference-environment-variables/&#34; &gt;environment variables reference&lt;/a&gt; for more details on available environment variables on Clever Cloud.&lt;/p&gt;
&lt;p&gt;You can of course create custom ones with the interface we just demonstrated, they will be available for your application.&lt;/p&gt;












	
	
	
		
		
		

	




&lt;h2&gt;Configure your Node.js application&lt;span class=&#34;absolute -mt-20&#34; id=&#34;configure-your-nodejs-application&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#configure-your-nodejs-application&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;Mandatory configuration&lt;span class=&#34;absolute -mt-20&#34; id=&#34;mandatory-configuration&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#mandatory-configuration&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Be sure that:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;you listen on HTTP port &lt;strong&gt;0.0.0.0:8080&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;you have a &lt;code&gt;package.json&lt;/code&gt; file&lt;/li&gt;
&lt;li&gt;your &lt;code&gt;package.json&lt;/code&gt; either has a &lt;strong&gt;scripts.start&lt;/strong&gt; or &lt;strong&gt;main&lt;/strong&gt; field&lt;/li&gt;
&lt;li&gt;the folder &lt;code&gt;/node_modules&lt;/code&gt; is mentioned in your &lt;code&gt;.gitignore&lt;/code&gt; file&lt;/li&gt;
&lt;li&gt;you enable production mode by setting the &lt;a href=&#34;#setting-up-environment-variables-on-clever-cloud&#34; &gt;environment variable&lt;/a&gt; &lt;code&gt;NODE_ENV=production&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Select node version&lt;span class=&#34;absolute -mt-20&#34; id=&#34;select-node-version&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#select-node-version&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;You can use the &lt;code&gt;engines.node&lt;/code&gt; field in &lt;code&gt;package.json&lt;/code&gt; to define the wanted version, if not provided we will use the latest LTS version.&lt;/p&gt;
&lt;h3&gt;About package.json&lt;span class=&#34;absolute -mt-20&#34; id=&#34;about-packagejson&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#about-packagejson&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The &lt;code&gt;package.json&lt;/code&gt; file should look like the following:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div id=&#34;code-block-0&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;myapp&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;0.1.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;main&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;myapp.js&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;scripts&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;#34;start&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;node myapp.js&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;engines&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;#34;node&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;^10&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34; title=&#34;Copy code&#34; data-clipboard-target=&#34;#code-block-0&#34;&gt;
      &lt;svg class=&#34;group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z&#34; /&gt;&lt;/svg&gt;
      &lt;svg class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke-width=&#34;2&#34; stroke=&#34;currentColor&#34; aria-hidden=&#34;true&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M5 13l4 4L19 7&#34;/&gt;&lt;/svg&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h4&gt;The json fields&lt;span class=&#34;absolute -mt-20&#34; id=&#34;the-json-fields&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#the-json-fields&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;The following table describes each of the fields formerly mentioned.&lt;/p&gt;
&lt;table id=&#34;nodedeps&#34; class=&#34;table table-bordered table-striped&#34;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Usage&lt;/th&gt;
      &lt;th&gt;Field&lt;/th&gt;
      &lt;th&gt;Description&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td class=&#34;cc-depusage&#34; rowspan=&#34;2&#34;&gt;
        &lt;span class=&#34;label label-danger&#34;&gt;At least one&lt;/span&gt;
      &lt;/td&gt;
      &lt;td&gt;scripts.start&lt;/td&gt;
      &lt;td&gt;This field provides a command line to run. If defined, &lt;code&gt;npm start&lt;/code&gt; will be launched. Otherwise we will use the &lt;code&gt;main&lt;/code&gt; field. See below to know how and when to use the &lt;code&gt;scripts.start&lt;/code&gt; field&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;main&lt;/td&gt;
      &lt;td&gt;This field allows you to specify the file you want to run. It should be the relative path of the file starting at the project&#39;s root. It&#39;s used to launch your application if &lt;code&gt;scripts.start&lt;/code&gt; is not defined.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;cc-depusage&#34; &gt;&lt;span class=&#34;label label-default&#34;&gt;Optional&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;engines.node&lt;/td&gt;
      &lt;td&gt;Sets the node engine version you app runs with. Any &#34;A.B.x&#34; or &#34;^A.B.C&#34; or &#34;~A.B&#34; version will lead to run the application with the latest &#34;A.B&#34; local version. If this field is missing, we use the latest LTS available. If you want to ensure that your app will always run, please put something of the form &#34;^A.B.C&#34; and avoid setting only &#34;&gt;=A.B.C&#34;.&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;NPM modules dependencies&lt;span class=&#34;absolute -mt-20&#34; id=&#34;npm-modules-dependencies&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#npm-modules-dependencies&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;If you need some modules you can easily add some with the &lt;em&gt;dependencies&lt;/em&gt; field in your &lt;code&gt;package.json&lt;/code&gt;. Here is an example:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div id=&#34;code-block-1&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;engines&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;dependencies&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;#34;express&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;3.x&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;#34;socket.io&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;0.9.x&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;#34;underscore&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;1.4.3&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34; title=&#34;Copy code&#34; data-clipboard-target=&#34;#code-block-1&#34;&gt;
      &lt;svg class=&#34;group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z&#34; /&gt;&lt;/svg&gt;
      &lt;svg class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke-width=&#34;2&#34; stroke=&#34;currentColor&#34; aria-hidden=&#34;true&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M5 13l4 4L19 7&#34;/&gt;&lt;/svg&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h4&gt;Private dependencies&lt;span class=&#34;absolute -mt-20&#34; id=&#34;private-dependencies&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#private-dependencies&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;If your application has private dependencies, you can add a &lt;a href=&#34;/doc/reference/common-configuration/#private-ssh-key&#34; &gt;Private SSH Key&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Supported package managers&lt;span class=&#34;absolute -mt-20&#34; id=&#34;supported-package-managers&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#supported-package-managers&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We support &lt;a href=&#34;https://www.npmjs.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;npm&lt;/a&gt; and &lt;a href=&#34;https://yarnpkg.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;yarn&lt;/a&gt; as package managers.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;#setting-up-environment-variables-on-clever-cloud&#34; &gt;environment variable&lt;/a&gt; &lt;code&gt;CC_NODE_BUILD_TOOL&lt;/code&gt; allows you to define which build tool you want to use. The default value is set to &lt;code&gt;npm&lt;/code&gt; but it can be any of these values:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;npm-install&lt;/code&gt;: uses &lt;a href=&#34;https://docs.npmjs.com/cli/install&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;npm install&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;npm-ci&lt;/code&gt;: uses &lt;a href=&#34;https://docs.npmjs.com/cli/ci&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;npm ci&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;npm&lt;/code&gt;: Defaults to &lt;code&gt;npm-install&lt;/code&gt; for now&lt;/li&gt;
&lt;li&gt;&lt;code&gt;yarn&lt;/code&gt;: uses &lt;a href=&#34;https://classic.yarnpkg.com/lang/en/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;yarn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;yarn2&lt;/code&gt;: uses &lt;a href=&#34;https://yarnpkg.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;yarn@2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;custom&lt;/code&gt;: uses the build tool set with &lt;code&gt;CC_CUSTOM_BUILD_TOOL&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If a &lt;code&gt;yarn.lock&lt;/code&gt; file exists in your application&amp;rsquo;s main folder, then the &lt;code&gt;yarn&lt;/code&gt; package manager will be automatically used. To overwrite this behaviour, either delete the &lt;code&gt;yarn.lock&lt;/code&gt; file or set the &lt;code&gt;CC_NODE_BUILD_TOOL&lt;/code&gt; environment variable.&lt;/p&gt;
&lt;p&gt;If none of the above package managers fit your needs, you can put your own using &lt;code&gt;CC_CUSTOM_BUILD_TOOL&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Automatic HTTPS redirection&lt;span class=&#34;absolute -mt-20&#34; id=&#34;automatic-https-redirection&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#automatic-https-redirection&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;You can use the &lt;a href=&#34;/doc/find-help/faq/#how-to-know-if-a-user-comes-from-a-secure-connection&#34; &gt;X-Forwarded-Proto header&lt;/a&gt; to enable it.&lt;/p&gt;
&lt;p&gt;If you are using &lt;a href=&#34;https://expressjs.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Express.js&lt;/a&gt;, you can use &lt;a href=&#34;https://www.npmjs.com/package/express-sslify&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;express-sslify&lt;/a&gt; by adding:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div id=&#34;code-block-2&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;use&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;enforce&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;HTTPS&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;trustProtoHeader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}));&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34; title=&#34;Copy code&#34; data-clipboard-target=&#34;#code-block-2&#34;&gt;
      &lt;svg class=&#34;group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z&#34; /&gt;&lt;/svg&gt;
      &lt;svg class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke-width=&#34;2&#34; stroke=&#34;currentColor&#34; aria-hidden=&#34;true&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M5 13l4 4L19 7&#34;/&gt;&lt;/svg&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;Custom build phase&lt;span class=&#34;absolute -mt-20&#34; id=&#34;custom-build-phase&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#custom-build-phase&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The build phase installs the dependencies and executes the &lt;code&gt;scripts.install&lt;/code&gt; you might have defined in your &lt;code&gt;package.json&lt;/code&gt;.
It&amp;rsquo;s meant to build the whole application including dependencies and / or assets (if there are any).&lt;/p&gt;
&lt;p&gt;All the build part should be written into the &lt;code&gt;scripts.install&lt;/code&gt; field of the &lt;code&gt;package.json&lt;/code&gt; file. You can also add a custom bash script and execute it with:Â &lt;code&gt;&amp;quot;scripts.install&amp;quot;: &amp;quot;./build.sh&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;For more information, see &lt;a href=&#34;https://docs.npmjs.com/misc/scripts&#34;&gt;the npm documentation&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Development Dependencies&lt;span class=&#34;absolute -mt-20&#34; id=&#34;development-dependencies&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#development-dependencies&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Development dependencies will not be automatically installed during the deployment. You can control their installation by using the &lt;code&gt;CC_NODE_DEV_DEPENDENCIES&lt;/code&gt; environment variable which takes &lt;code&gt;install&lt;/code&gt; or &lt;code&gt;ignore&lt;/code&gt; as its value. This variable overrides the default behaviour of &lt;code&gt;NODE_ENV&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Here are various scenarios:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;CC_NODE_DEV_DEPENDENCIES=install&lt;/code&gt;: Development dependencies will be installed.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CC_NODE_DEV_DEPENDENCIES=ignore&lt;/code&gt;: Development dependencies will not be installed.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NODE_ENV=production, CC_NODE_DEV_DEPENDENCIES=install&lt;/code&gt;: Development dependencies will be installed.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NODE_ENV=production, CC_NODE_DEV_DEPENDENCIES=ignore&lt;/code&gt;: Development dependencies will not be installed.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NODE_ENV=production&lt;/code&gt;: Package manager (NPM / Yarn) default behaviour. Development dependencies will not be installed.&lt;/li&gt;
&lt;li&gt;Neither &lt;code&gt;NODE_ENV&lt;/code&gt; nor &lt;code&gt;CC_NODE_DEV_DEPENDENCIES&lt;/code&gt; are defined: Package manager (NPM / Yarn) default behaviour. Development dependencies will be installed.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Custom run command&lt;span class=&#34;absolute -mt-20&#34; id=&#34;custom-run-command&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#custom-run-command&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;If you need to run a custom command (or just pass options to the program), you can specify it through the &lt;code&gt;CC_RUN_COMMAND&lt;/code&gt; &lt;a href=&#34;#setting-up-environment-variables-on-clever-cloud&#34; &gt;environment variable&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For instance, for a meteor application, you can have &lt;code&gt;CC_RUN_COMMAND=&amp;quot;node .build/bundle/main.js &amp;lt;options&amp;gt;&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Custom run phase&lt;span class=&#34;absolute -mt-20&#34; id=&#34;custom-run-phase&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#custom-run-phase&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The run phase is executed from &lt;code&gt;scripts.start&lt;/code&gt; if defined. This phase is only meant to start your application and should not
contain any build task.&lt;/p&gt;
&lt;h3&gt;Use private repositories with CC_NPM_REGISTRY and NPM_TOKEN&lt;span class=&#34;absolute -mt-20&#34; id=&#34;use-private-repositories-with-cc_npm_registry-and-npm_token&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#use-private-repositories-with-cc_npm_registry-and-npm_token&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Since April 2015, npmjs.com allows you to have private repositories. If you want to use a private repository on npmjs.com (the default one), you only need to provide the &lt;em&gt;token&lt;/em&gt; part. To register your auth token, you need to add to your application the &lt;code&gt;NPM_TOKEN&lt;/code&gt; environment variable.&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div id=&#34;code-block-3&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;NPM_TOKEN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;00000000-0000-0000-0000-000000000000&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34; title=&#34;Copy code&#34; data-clipboard-target=&#34;#code-block-3&#34;&gt;
      &lt;svg class=&#34;group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z&#34; /&gt;&lt;/svg&gt;
      &lt;svg class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke-width=&#34;2&#34; stroke=&#34;currentColor&#34; aria-hidden=&#34;true&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M5 13l4 4L19 7&#34;/&gt;&lt;/svg&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Then, the .npmrc file will be created automatically for your application, with the registry url and the token.&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div id=&#34;code-block-4&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;//registry.npmjs.org/:_authToken=00000000-0000-0000-0000-000000000000&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34; title=&#34;Copy code&#34; data-clipboard-target=&#34;#code-block-4&#34;&gt;
      &lt;svg class=&#34;group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z&#34; /&gt;&lt;/svg&gt;
      &lt;svg class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke-width=&#34;2&#34; stroke=&#34;currentColor&#34; aria-hidden=&#34;true&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M5 13l4 4L19 7&#34;/&gt;&lt;/svg&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;To authenticate to another registry (like github), you can use the &lt;code&gt;CC_NPM_REGISTRY&lt;/code&gt;  environment variable to define the registry&amp;rsquo;s host.&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div id=&#34;code-block-5&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;CC_NPM_REGISTRY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;npm.pkg.github.com&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;NPM_TOKEN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;00000000-0000-0000-0000-000000000000&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34; title=&#34;Copy code&#34; data-clipboard-target=&#34;#code-block-5&#34;&gt;
      &lt;svg class=&#34;group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z&#34; /&gt;&lt;/svg&gt;
      &lt;svg class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke-width=&#34;2&#34; stroke=&#34;currentColor&#34; aria-hidden=&#34;true&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M5 13l4 4L19 7&#34;/&gt;&lt;/svg&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div id=&#34;code-block-6&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;//npm.pkg.github.com/:_authToken=00000000-0000-0000-0000-000000000000&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34; title=&#34;Copy code&#34; data-clipboard-target=&#34;#code-block-6&#34;&gt;
      &lt;svg class=&#34;group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z&#34; /&gt;&lt;/svg&gt;
      &lt;svg class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke-width=&#34;2&#34; stroke=&#34;currentColor&#34; aria-hidden=&#34;true&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M5 13l4 4L19 7&#34;/&gt;&lt;/svg&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;












	
	
	
		
		
		

	




&lt;h3&gt;Monitor your application with New Relic&lt;span class=&#34;absolute -mt-20&#34; id=&#34;monitor-your-application-with-new-relic&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#monitor-your-application-with-new-relic&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;You can use &lt;a href=&#34;https://www.newrelic.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;New Relic&lt;/a&gt; to monitor your application on Clever Cloud.&lt;/p&gt;
&lt;p&gt;Please refer to our &lt;a href=&#34;/doc/administrate/metrics/new-relic/&#34; &gt;New Relic documentation&lt;/a&gt; to configure it for your application.&lt;/p&gt;












	
	
	
		
		
		

	




&lt;h2&gt;Environment injection&lt;span class=&#34;absolute -mt-20&#34; id=&#34;environment-injection&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#environment-injection&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Clever Cloud injects environment variables from your application settings as mentioned in &lt;a href=&#34;#setting-up-environment-variables-on-clever-cloud&#34; &gt;setting up environment variables&lt;/a&gt; and is also injecting in your application production environment, those from your &lt;a href=&#34;#linking-a-database-or-any-other-add-on-to-your-application&#34; &gt;linked add-ons&lt;/a&gt;.


&lt;p&gt;To access environment variables from your code, you can use &lt;code&gt;process.env.MY_VARIABLE&lt;/code&gt;.&lt;/p&gt;









	
	
	
		
		
		

	




&lt;h2&gt;Git Deployment on Clever Cloud&lt;span class=&#34;absolute -mt-20&#34; id=&#34;git-deployment-on-clever-cloud&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#git-deployment-on-clever-cloud&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;em&gt;You need Git on your computer to deploy via this tool. Here is the official website of Git to get more information: &lt;a href=&#34;https://git-scm.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;git-scm.com&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;Setting up your remotes&lt;span class=&#34;absolute -mt-20&#34; id=&#34;setting-up-your-remotes&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#setting-up-your-remotes&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &amp;ldquo;Information&amp;rdquo; page of your app gives you your Git deployment URL, it looks like this:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;git+ssh://git@push.clever-cloud.com/&amp;lt;your_app_id&amp;gt;.git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Copy it in your clipboard&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Locally, under your code folder, type in &lt;code&gt;git init&lt;/code&gt; to set up a new git repository or skip this step if you already have one&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add the deploy URL with &lt;code&gt;git remote add &amp;lt;name&amp;gt; &amp;lt;your-git-deployment-url&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add your files via &lt;code&gt;git add &amp;lt;files path&amp;gt;&lt;/code&gt; and commit them via &lt;code&gt;git commit -m &amp;lt;your commit message&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now push your application on Clever Cloud with &lt;code&gt;git push &amp;lt;name&amp;gt; master&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Refer to &lt;a href=&#34;/doc/getting-started/quickstart/&#34; &gt;git deployments&lt;/a&gt; for more details.&lt;/p&gt;



&lt;h2&gt;Troubleshooting your application&lt;span class=&#34;absolute -mt-20&#34; id=&#34;troubleshooting-your-application&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#troubleshooting-your-application&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;If you are often experiencing auto restart of your Node.js instance, maybe you have an application crashing that we automatically restart.
To target this behaviour, you can gracefully shutdown with events handlers on &lt;code&gt;uncaughtExeption&lt;/code&gt; &lt;code&gt;unhandledRejection&lt;/code&gt; &lt;code&gt;sigint&lt;/code&gt; and &lt;code&gt;sigterm&lt;/code&gt; and log at this moment so you can fix the problem.&lt;/p&gt;









	
	
	
		
		
		

	




&lt;h2&gt;Linking a database or any other add-on to your application&lt;span class=&#34;absolute -mt-20&#34; id=&#34;linking-a-database-or-any-other-add-on-to-your-application&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#linking-a-database-or-any-other-add-on-to-your-application&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;By linking an application to an add-on, the application has the add-on environment variables in its own environment by default.&lt;/p&gt;
&lt;h3&gt;On add-on creation&lt;span class=&#34;absolute -mt-20&#34; id=&#34;on-add-on-creation&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#on-add-on-creation&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Many add-ons do exist on Clever Cloud, please refer to the full list and check add-ons dedicated pages for full instructions.&lt;/p&gt;
&lt;p&gt;During add-on creation, you will see &lt;strong&gt;Applications&lt;/strong&gt; screen, with a list of your applications. You can toggle the button to &lt;em&gt;Link&lt;/em&gt; and click &lt;em&gt;next&lt;/em&gt;. If you finish the process of add-on creation, the application will automatically be linked to it.&lt;/p&gt;
&lt;h3&gt;Add-on already exists&lt;span class=&#34;absolute -mt-20&#34; id=&#34;add-on-already-exists&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#add-on-already-exists&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;In the Clever Cloud console, under the &lt;strong&gt;Service Dependencies&lt;/strong&gt; menu of your application, you can use the &lt;em&gt;Link addons&lt;/em&gt; dropdown menu to select the name of the add-on you want to link and use the &lt;em&gt;add&lt;/em&gt; button to finish the process.&lt;/p&gt;
&lt;p&gt;You can also link another application from the same page in the Clever Cloud console, using the &lt;em&gt;Link applications&lt;/em&gt; dropdown menu.&lt;/p&gt;












	
	
	
		
		
		

	




&lt;h2&gt;More configuration&lt;span class=&#34;absolute -mt-20&#34; id=&#34;more-configuration&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#more-configuration&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Need more configuration? To run a script at the end of your deployment? To add your private SSH key to access private dependencies?&lt;/p&gt;
&lt;p&gt;Go check the &lt;a href=&#34;/doc/reference/common-configuration/&#34; &gt;Common configuration page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You may want to have an advanced usage of your application, in which case we recommend you to read the &lt;strong&gt;Administrate&lt;/strong&gt; documentation section.&lt;/p&gt;
&lt;p&gt;If you can&amp;rsquo;t find something or have a specific need like using a non supported version of a particular software, please reach out to the &lt;a href=&#34;/doc/find-help/support/&#34; &gt;support&lt;/a&gt;.&lt;/p&gt;



&lt;h2&gt;Deployment video&lt;span class=&#34;absolute -mt-20&#34; id=&#34;deployment-video&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#deployment-video&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;iframe width=&#34;853&#34; height=&#34;480&#34; src=&#34;https://www.youtube.com/embed/dxhSjHnrrhA?rel=0&amp;amp;showinfo=0&#34; frameborder=&#34;0&#34; allowfullscreen&gt;&lt;/iframe&gt;
      </description>
    </item>
    
  </channel>
</rss>
